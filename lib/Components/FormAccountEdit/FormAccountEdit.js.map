{"version":3,"sources":["../../../src/Components/FormAccountEdit/FormAccountEdit.jsx"],"names":["FormAccountEdit","props","onchangeOptin","bind","onchangeMobile","onchangePhone","setLabelElementForInput","idLabel","idTrad","newlabel","document","createElement","setAttribute","innerHTML","intl","formatMessage","id","defaultMessage","elemLabel","getElementById","after","e","value","localInfo","get","setOptIn","status","countryData","number","setMobile","setPhone","key","size","format","getValueForInput","getBirthdateValue","onchangeMovil","console","log","Component","propTypes","PropTypes","object","isRequired","defaultProps"],"mappings":"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","file":"FormAccountEdit.js","sourcesContent":["import React, { Component } from 'react';\nimport { PropTypes} from \"prop-types\";\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport moment from 'moment/src/moment';\nimport IntlTelInput from \"react-intl-tel-input\";\nimport AddressForm from \"../AddressForm/AddressForm\";\nimport {isValidField} from '../../Helpers/ValidatorFieldsHelper';\nimport 'react-intl-tel-input/dist/main.css';\n\n/**\n * Class : Account Form\n */\nclass FormAccountEdit extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onchangeOptin = this.onchangeOptin.bind(this);\n    this.onchangeMobile = this.onchangeMobile.bind(this);\n    this.onchangePhone = this.onchangePhone.bind(this);\n  }\n\n  /**\n   * Executed after the first render only on the client side\n   */\n  componentDidMount() {\n    // We add element label for input mobile and phone\n    this.setLabelElementForInput('account_user_mobile', 'rp.checkout.customer.mobile');\n    this.setLabelElementForInput('account_user_phone', 'rp.checkout.customer.phone');\n  }\n\n  /**\n   *\n   * @param idLabel\n   * @param idTrad\n   */\n  setLabelElementForInput(idLabel, idTrad) {\n    let newlabel = document.createElement(\"Label\");\n    newlabel.setAttribute('class', 'control-label paddingLeftPhone');\n    newlabel.setAttribute('for', idLabel);\n    newlabel.innerHTML = this.props.intl.formatMessage({id: idTrad, defaultMessage: 'phone number'});\n\n    let elemLabel = document.getElementById(idLabel);\n    elemLabel.setAttribute('data-control', 'true');\n    elemLabel.after(newlabel);\n\n    document.getElementById(idLabel).setAttribute('required', 'required');\n  }\n\n  /**\n   *\n   * @param e\n   */\n  onchangeOptin(e) {\n    const value = this.props.localInfo.get('values').get('optIn');\n    this.props.setOptIn(value);\n  }\n\n  /**\n   *\n   * @param status\n   * @param value\n   * @param countryData\n   * @param number\n   * @param id\n   */\n  onchangeMobile(status, value, countryData, number, id) {\n    this.props.setMobile(value);\n  }\n\n  /**\n   *\n   * @param status\n   * @param value\n   * @param countryData\n   * @param number\n   * @param id\n   */\n  onchangePhone(status, value, countryData, number, id) {\n    this.props.setPhone(value);\n  }\n\n  /**\n   *\n   * @param key\n   * @returns {string}\n   */\n  getValueForInput(key) {\n    return this.props.localInfo.size > 0\n      ? this.props.localInfo.get(key)\n      : '';\n  }\n\n  /**\n   *\n   * @param localInfo\n   * @returns {string}\n   */\n  getBirthdateValue(key) {\n    return this.props.localInfo.size > 0\n      ? moment(this.props.localInfo.get(key), 'YYYY-MM-DD HH:mm:ssZZ').format('DD/MM/YYYY')\n      : '';\n  }\n\n\n  render() {\n    const { formatMessage } = this.props.intl;\n\n    return (\n      <div id=\"accountForm\" className=\"checkout_part_content accountForm\">\n        <div className=\"panel-body\">\n          <div className=\"row form_content_wrapper\">\n            <div className=\"col-xs-12 col-sm-6\">\n              <input\n                type=\"text\"\n                id=\"account_user_lastname\"\n                disabled=\"disabled\"\n                required=\"required\"\n                placeholder={formatMessage({ id: 'rp.checkout.customer.lastname', defaultMessage: 'lastname' })}\n                data-control=\"true\"\n                value={this.getValueForInput('lastname') || \"\"}\n              />\n              <label htmlFor=\"account_user_lastname\" className=\"control-label\">\n                <FormattedMessage id=\"rp.checkout.customer.lastname\" defaultMessage=\"lastname\"/>\n              </label>\n            </div>\n\n            <div className=\"col-xs-12 col-sm-6\">\n              <input\n                type=\"text\"\n                id=\"account_user_firstname\"\n                disabled=\"disabled\"\n                required=\"required\"\n                placeholder={formatMessage({ id: 'rp.checkout.customer.firstname', defaultMessage: 'firstname' })}\n                data-control=\"true\"\n                value={this.getValueForInput('firstname') || \"\"}\n              />\n              <label htmlFor=\"account_user_firstname\" className=\"control-label\">\n                <FormattedMessage id=\"rp.checkout.customer.firstname\" defaultMessage=\"firstname\"/>\n              </label>\n            </div>\n          </div>\n\n          <div className=\"row form_content_wrapper \">\n            <div className=\"col-xs-12 col-sm-6\">\n              <input\n                type=\"text\"\n                id=\"account_user_birthdate\"\n                disabled=\"disabled\"\n                required=\"required\"\n                className=\"rp_date\"\n                placeholder={formatMessage({id: 'rp.checkout.customer.birthdate', defaultMessage: 'birthdate'})}\n                data-control=\"true\"\n                value={this.getBirthdateValue('birthdate') || \"\"}\n              />\n              <label htmlFor=\"account_user_birthdate\" className=\"control-label\">\n                <FormattedMessage id=\"rp.checkout.customer.birthdate\" defaultMessage=\"birthdate\"/>\n              </label>\n            </div>\n          </div>\n\n          <div className=\"row form_content_wrapper\">\n            <div className=\"col-xs-12 col-sm-6\">\n              <IntlTelInput\n                preferredCountries={['fr']}\n                css={['intl-tel-input', 'form-control']}\n                fieldId={'account_user_mobile'}\n                utilsScript={'libphonenumber.js'}\n                format\n                defaultValue={''}\n                autoPlaceholder\n                autoHideDialCode\n                onPhoneNumberChange={this.onchangeMovil}\n                onPhoneNumberBlur={this.onchangeMovil}\n                value={this.getValueForInput('mobile') || ''}\n                formatOnInit={false}\n              />\n              <div className=\"phone-icon-elements\">\n                <span className=\"phone-checker phone-icon fa fa-2x form-control-feedback withoutprepend fa-check\"/>\n              </div>\n            </div>\n\n\n            <div className=\"col-xs-12 col-sm-6\">\n              <IntlTelInput\n                preferredCountries={['fr']}\n                css={['intl-tel-input', 'form-control']}\n                fieldId={'account_user_phone'}\n                utilsScript={'libphonenumber.js'}\n                format\n                defaultValue={''}\n                autoPlaceholder\n                autoHideDialCode\n                onPhoneNumberChange={this.onchangePhone}\n                onPhoneNumberBlur={this.onchangePhone}\n                value={this.getValueForInput('phone') || ''}\n                defaultCountry={'fr'}\n                formatOnInit={false}\n              />\n              <div className=\"phone-icon-elements\">\n                <span\n                  className=\"phone-checker phone-icon fa fa-2x form-control-feedback withoutprepend fa-exclamation-triangle\"/>\n              </div>\n            </div>\n          </div>\n\n          <AddressForm\n            localInfo={this.props.localInfo}\n            // render={render}\n            //   updateAddress={updateAddress}\n          />\n\n          <div className=\"col-md-12 cgv-option\">\n            <div className=\"form-group\">\n              <div className=\"col-md-12\">\n                <div className=\"checkbox\">\n                  <input type=\"checkbox\"\n                         id=\"account_user_optIn\"\n                         required=\"required\"\n                         defaultChecked={this.getValueForInput('optIn') || false}\n                         value=\"1\"\n                         onChange={(e) => this.onchangeOptin(e)}\n                  />\n                  <label htmlFor=\"account_user_optIn\">\n                    <FormattedMessage id=\"rp.forms.checkout.payment.optin\" defaultMessage=\"optIn\"/>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"col-xs-12 cgv\">\n            <FormattedMessage id=\"rp.forms.checkout.cnil\" defaultMessage=\"cnil\"/>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-sm-6\"><b><b>\n              <button\n                className=\"btn-main btn-full btn-lg small-margin-top\"\n                type=\"submit\"\n                onClick={() => console.log('UPDATE CONTACT')}\n              >\n                <FormattedMessage id=\"rp.checkout.customer.next.btn\" defaultMessage=\"accept and continue\"/>\n              </button>\n            </b></b>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nFormAccountEdit.propTypes = {\n  localInfo: PropTypes.object.isRequired,\n  // onClickEditAccount: PropTypes.func.isRequired,\n  // setAddress: PropTypes.func.isRequired,\n  // setFirstname: PropTypes.func.isRequired,\n  // setLastname: PropTypes.func.isRequired,\n  // setMobile: PropTypes.func.isRequired,\n  // setOptIn: PropTypes.func.isRequired,\n  // setPhone: PropTypes.func.isRequired,\n  // setEmail: PropTypes.func.isRequired,\n  // setBirthdate: PropTypes.func.isRequired,\n  // setPassword: PropTypes.func.isRequired,\n};\n\nFormAccountEdit.defaultProps = {\n  localInfo: {},\n};\n\nexport default injectIntl(FormAccountEdit);\n"]}